<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>python,python中国,python中文社区,python in china -  Powered by Discuz!</title>
<link href="http://www.okpython.com/thread-3462-1-1.html" rel="canonical" />
<meta name="keywords" content="python,python中国,python中文社区,python in china" />
<meta name="description" content="python,python中国,python中文社区,python in china " />
<meta name="generator" content="Discuz! X2" />
<meta name="author" content="Discuz! Team and Comsenz UI Team" />
<meta name="copyright" content="2001-2011 Comsenz Inc." />
<meta name="MSSmartTagsPreventParsing" content="True" />
<meta http-equiv="MSThemeCompatible" content="Yes" />
<base href="http://www.okpython.com/" /><link rel="stylesheet" type="text/css" href="data/cache/style_1_common.css?PJD" /><link rel="stylesheet" type="text/css" href="data/cache/style_1_forum_viewthread.css?PJD" /><script type="text/javascript">var STYLEID = '1', STATICURL = 'static/', IMGDIR = 'static/image/common', VERHASH = 'PJD', charset = 'utf-8', discuz_uid = '0', cookiepre = 'ETOx_2132_', cookiedomain = '', cookiepath = '/', showusercard = '1', attackevasive = '0', disallowfloat = '', creditnotice = '1|威望|,2|金钱|', defaultstyle = '', REPORTURL = 'aHR0cDovL3d3dy5va3B5dGhvbi5jb20vdGhyZWFkLTM0NjItMS0zLmh0bWw=', SITEURL = 'http://www.okpython.com/', JSPATH = 'static/js/';</script>
<script src="static/js/common.js?PJD" type="text/javascript"></script>
 <!-- Baidu Button BEGIN --><script type="text/javascript" id="bdshare_js" data="type=slide&amp;mini=1&amp;img=0&amp;uid=735627" ></script><script type="text/javascript" id="bdshell_js"></script><script type="text/javascript">	document.getElementById("bdshell_js").src = "http://share.baidu.com/static/js/shell_v2.js?cdnversion=" + new Date().getHours();</script><!-- Baidu Button END -->
<meta name="application-name" content="Python中国" />
<meta name="msapplication-tooltip" content="Python中国" />
<meta name="msapplication-task" content="name=首页;action-uri=http://www.okpython.com/forum.php;icon-uri=http://www.okpython.com/static/image/common/bbs.ico" />
<meta name="msapplication-task" content="name=群组;action-uri=http://www.okpython.com/group.php;icon-uri=http://www.okpython.com/static/image/common/group.ico" /><meta name="msapplication-task" content="name=博客;action-uri=http://www.okpython.com/home.php;icon-uri=http://www.okpython.com/static/image/common/home.ico" /><link rel="archives" title="Python中国" href="http://www.okpython.com/archiver/" />
<link rel="stylesheet" id="css_widthauto" type="text/css" href="data/cache/style_1_widthauto.css?PJD" />
<script type="text/javascript">HTMLNODE.className += ' widthauto'</script>
<script src="static/js/forum.js?PJD" type="text/javascript"></script>
</head>

<body id="nv_forum" class="pg_viewthread" onkeydown="if(event.keyCode==27) return false;">
<div id="append_parent"></div><div id="ajaxwaitid"></div>

<div id="toptb" class="cl">
<div class="wp">
<div class="z"><a href="javascript:;"  onclick="setHomepage('http://www.okpython.com/');">设为首页</a><a href="http://www.okpython.com/"  onclick="addFavorite(this.href, 'Python中国');return false;">收藏本站</a></div>
<div class="y">
<a href="javascript:;" onclick="widthauto(this)">切换到窄版</a>
</div>
</div>
</div>


<div id="qmenu_menu" class="p_pop blk" style="display: none;">
<div class="ptm pbw hm">
请 <a href="javascript:;" class="xi2" onclick="lsSubmit()"><strong>登录</strong></a> 后使用快捷导航<br />没有帐号？<a href="member.php?mod=register.php" class="xi2 xw1">注册</a>
</div>
</div>
<div class="wp a_h"><a href="http://www.okpython.com/thread-7073-1-1.html" target="_blank" style="font-size: 30px">转让本站,出售python中国网站</a></div><div id="hd">
<div class="wp">
<div class="hdc cl"><h2><a href="./" title="Python中国"><img src="static/image/common/logo.png" alt="Python中国" border="0" /></a></h2>

<script src="static/js/logging.js?PJD" type="text/javascript"></script>
<form method="post" autocomplete="off" id="lsform" action="member.php?mod=logging&amp;action=login&amp;loginsubmit=yes&amp;infloat=yes&amp;lssubmit=yes" onsubmit="return lsSubmit()">
<div class="fastlg cl">
<span id="return_ls" style="display:none"></span>
<div class="y pns">
<table cellspacing="0" cellpadding="0">
<tr>
<td>
<span class="ftid">
<select name="fastloginfield" id="ls_fastloginfield" width="40" tabindex="900">
<option value="username">用户名</option>
<option value="uid">UID</option>
<option value="email">Email</option>
</select>
</span>
<script type="text/javascript">simulateSelect('ls_fastloginfield')</script>
</td>
<td><input type="text" name="username" id="ls_username" autocomplete="off" class="px vm" tabindex="901" /></td>
<td class="fastlg_l"><label for="ls_cookietime"><input type="checkbox" name="cookietime" id="ls_cookietime" class="pc" value="2592000" tabindex="903" />自动登录</label></td>
<td>&nbsp;<a href="javascript:;" onclick="showWindow('login', 'member.php?mod=logging&action=login&viewlostpw=1')">找回密码</a></td>
</tr>
<tr>
<td><label for="ls_password" class="z psw_w">密码</label></td>
<td><input type="password" name="password" id="ls_password" class="px vm" autocomplete="off" tabindex="902" /></td>
<td class="fastlg_l"><button type="submit" class="pn vm" tabindex="904" style="width: 75px;"><em>登录</em></button></td>
<td>&nbsp;<a href="member.php?mod=register.php" class="xi2 xw1">注册</a></td>
</tr>
</table>
<input type="hidden" name="quickforward" value="yes" />
<input type="hidden" name="handlekey" value="ls" />
</div>
</div>
</form>
</div>

<div id="nv">
<a href="javascript:;" id="qmenu" onmouseover="showMenu({'ctrlid':'qmenu','pos':'34!','ctrlclass':'a','duration':2});">快捷导航</a>
<ul><li class="a" id="mn_forum" ><a href="forum.php" hidefocus="true" title="BBS"  >首页<span>BBS</span></a></li><li id="mn_home" ><a href="home.php" hidefocus="true" title="Space"   style="color: red">博客<span>Space</span></a></li><li id="mn_N2d81" ><a href="home.php?mod=task" hidefocus="true"   style="color: orange">任务</a></li><li id="mn_Needc" ><a href="http://www.okpython.com/forum-38-1.html" hidefocus="true"   style="font-weight: bold;">Django框架</a></li><li id="mn_N2492" ><a href="http://www.okpython.com/forum-4-1.html" hidefocus="true"  >Python软件编程</a></li></ul>
</div>
<div id="mu" class="cl">
</div><div id="scbar" class="cl"><form id="scbar_form" method="post" autocomplete="off" onsubmit="searchFocus($('scbar_txt'))" action="search.php?searchsubmit=yes" target="_blank">
<input type="hidden" name="mod" id="scbar_mod" value="search" />
<input type="hidden" name="formhash" value="e633520d" />
<input type="hidden" name="srchtype" value="title" />
<input type="hidden" name="srhfid" value="38" id="dzsearchforumid" />
<input type="hidden" name="srhlocality" value="forum::viewthread" />
<table cellspacing="0" cellpadding="0">
<tr>
<td class="scbar_icon_td"></td>
<td class="scbar_txt_td"><input type="text" name="srchtxt" id="scbar_txt" value="请输入搜索内容" autocomplete="off" /></td>
<td class="scbar_type_td"><a href="javascript:;" id="scbar_type" class="showmenu xg1 xs2" onclick="showMenu(this.id)" hidefocus="true">搜索</a></td>
<td class="scbar_btn_td"><button type="submit" name="searchsubmit" id="scbar_btn" class="pn pnc" value="true"><strong class="xi2 xs2">搜索</strong></button></td>
<td class="scbar_hot_td">
<div id="scbar_hot">
<strong class="xw1">热搜: </strong>

<a href="search.php?mod=forum&amp;srchtxt=%E6%B4%BB%E5%8A%A8&amp;formhash=e633520d&amp;searchsubmit=true&amp;source=hotsearch" target="_blank" class="xi2">活动</a>



<a href="search.php?mod=forum&amp;srchtxt=%E4%BA%A4%E5%8F%8B&amp;formhash=e633520d&amp;searchsubmit=true&amp;source=hotsearch" target="_blank" class="xi2">交友</a>



<a href="search.php?mod=forum&amp;srchtxt=discuz&amp;formhash=e633520d&amp;searchsubmit=true&amp;source=hotsearch" target="_blank" class="xi2">discuz</a>

</div>
</td>
</tr>
</table>
</form>
</div>
<ul id="scbar_type_menu" class="p_pop" style="display: none;"><li><a href="javascript:;" rel="curforum" class="curtype">本版</a></li><li><a href="javascript:;" rel="forum">帖子</a></li><li><a href="javascript:;" rel="blog">日志</a></li><li><a href="javascript:;" rel="album">相册</a></li><li><a href="javascript:;" rel="group">群组</a></li><li><a href="javascript:;" rel="user">用户</a></li></ul>
<script type="text/javascript">
initSearchmenu('scbar', '');
</script>
</div>
</div>


<div id="wp" class="wp">
<script type="text/javascript">var fid = parseInt('38'), tid = parseInt('3462');</script>

<script src="static/js/forum_viewthread.js?PJD" type="text/javascript"></script>
<script type="text/javascript">zoomstatus = parseInt(1);var imagemaxwidth = '600';var aimgcount = new Array();</script>

<style id="diy_style" type="text/css"></style>
<!--[diy=diynavtop]--><div id="diynavtop" class="area"></div><!--[/diy]-->
<div id="pt" class="bm cl">
<div class="z">
<a href="./" class="nvhm" title="首页">Python中国</a> <em>&rsaquo;</em> <a href="forum.php">首页</a> <em>&rsaquo;</em> <a href="forum.php?gid=36">Python Web开发</a> <em>&rsaquo;</em> <a href="forum.php?mod=forumdisplay&fid=38&page=3">Python Django框架</a> <em>&rsaquo;</em> <a href="thread-3462-1-1.html">django配置又一篇实例（转载）——</a>
</div>
</div>

<style id="diy_style" type="text/css"></style>
<div class="wp">
<!--[diy=diy1]--><div id="diy1" class="area"></div><!--[/diy]-->
</div>

<div id="ct" class="wp cl">
<div id="pgt" class="pgs mbm cl ">
<div class="pgt"></div>
<span class="y pgb"><a href="forum.php?mod=forumdisplay&fid=38&page=3">返回列表</a></span>
<a id="newspecial" onmouseover="$('newspecial').id = 'newspecialtmp';this.id = 'newspecial';showMenu({'ctrlid':this.id})" onclick="showWindow('newthread', 'forum.php?mod=post&action=newthread&fid=38')" href="javascript:;" title="发新帖"><img src="static/image/common/pn_post.png" alt="发新帖" /></a></div>



<div id="postlist" class="pl bm">
<table cellspacing="0" cellpadding="0">
<tr>
<td class="pls ptm pbm">
<div class="hm">
<span class="xg1">查看:</span> <span class="xi1">2149</span><span class="pipe">|</span><span class="xg1">回复:</span> <span class="xi1">0</span>
</div>
</td>
<td class="plc ptm pbn">
<div class="y">
<a href="forum.php?mod=viewthread&amp;action=printable&amp;tid=3462" title="打印" target="_blank"><img src="static/image/common/print.png" alt="打印" class="vm" /></a>
<a href="forum.php?mod=redirect&amp;goto=nextoldset&amp;tid=3462" title="上一主题"><img src="static/image/common/thread-prev.png" alt="上一主题" class="vm" /></a>
<a href="forum.php?mod=redirect&amp;goto=nextnewset&amp;tid=3462" title="下一主题"><img src="static/image/common/thread-next.png" alt="下一主题" class="vm" /></a>
</div>
<h1 class="ts">
<a href="thread-3462-1-1.html" id="thread_subject">django配置又一篇实例（转载）——</a>
<span class="xw0 xs1 xg1">
<a href="thread-3462-1-1.html" onclick="return copyThreadUrl(this)" title="您的朋友访问此链接后，您将获得相应的积分奖励">[复制链接]</a>
</span>
</h1>
</td>
</tr>
</table>


<table cellspacing="0" cellpadding="0" class="ad"><tr><td class="pls"></td><td class="plc"></td></tr></table><div id="post_6506"><table id="pid6506" summary="pid6506" cellspacing="0" cellpadding="0">
<tr>
<td class="pls" rowspan="2">
 <a name="lastpost"></a><div class="pi">
<div class="authi"><a href="home.php?mod=space&amp;uid=1" target="_blank" class="xw1">xieaotian</a>

</div>
</div>
<div class="p_pop blk bui" id="userinfo6506" style="display: none; margin-top: -11px;">
<div class="m z">
<div id="userinfo6506_ma"></div>
</div>
<div class="i y">
<div>
<strong><a href="home.php?mod=space&amp;uid=1" target="_blank" class="xi2">xieaotian</a></strong>
<em>当前离线</em>
</div>
<dl class="cl"></dl>
<div class="imicn">
<a href="http://wpa.qq.com/msgrd?V=1&amp;Uin=81356625&amp;Site=Python中国&amp;Menu=yes" target="_blank" title="QQ"><img src="static/image/common/qq.gif" alt="QQ" /></a><a href="http://www.phpx.com" target="_blank" title="查看个人网站"><img src="static/image/common/forumlink.gif" alt="查看个人网站" /></a><a href="home.php?mod=space&amp;uid=1&amp;do=profile" target="_blank" title="查看详细资料"><img src="static/image/common/userinfo.gif" alt="查看详细资料" /></a>
<a href="home.php?mod=magic&amp;mid=showip&amp;idtype=user&amp;id=xieaotian" id="a_showip_li_6506" class="xi2" onclick="showWindow(this.id, this.href)"><img src="static//image/magic/showip.small.gif" alt="" /> IP卡</a>
<a href="home.php?mod=magic&amp;mid=checkonline&amp;idtype=user&amp;id=xieaotian" id="a_repent_6506" class="xi2" onclick="showWindow(this.id, this.href)"><img src="static//image/magic/checkonline.small.gif" alt="" /> 狗仔卡</a>
</div>
<div id="avatarfeed"><span id="threadsortswait"></span></div>
</div>
</div>
<div>
<div class="avatar" onmouseover="showauthor(this, 'userinfo6506')"><a href="home.php?mod=space&amp;uid=1" target="_blank"><img src="http://www.okpython.com/ucenter/avatar.php?uid=1&size=middle" /></a></div>
<p><em><a href="home.php?mod=spacecp&amp;ac=usergroup&amp;gid=1" target="_blank">管理员</a></em></p>
<p class="xg1">我不是站长</p></div>
<p><img src="static/image/common/star_level3.gif" alt="Rank: 9" /><img src="static/image/common/star_level3.gif" alt="Rank: 9" /><img src="static/image/common/star_level1.gif" alt="Rank: 9" /></p>
<dl class="pil cl"><dt>注册时间</dt><dd>2007-12-10</dd><dt>最后登录</dt><dd>2013-5-25</dd><dt>在线时间</dt><dd>621 小时</dd><dt>阅读权限</dt><dd>200</dd><dt>积分</dt><dd>18456</dd><dt>帖子</dt><dd><a href="home.php?mod=space&uid=1&do=thread&type=reply&view=me&from=space" target="_blank" class="xi2">5044</a></dd><dt>精华</dt><dd>40</dd><dt>UID</dt><dd>1</dd></dl><p class="md_ctrl">
<a href="home.php?mod=medal"><img id="md_6506_2" src="static/image/common/medal2.gif" alt="管理奖" title="" onmouseover="showMenu({'ctrlid':this.id, 'menuid':'md_2_menu', 'pos':'12!'});" />
</a>
</p>
<ul class="xl xl2 o cl">
<li class="callon"><a href="home.php?mod=space&amp;uid=1" target="_blank" title="串个门" class="xi2">串个门</a></li>
<li class="buddy"><a href="home.php?mod=spacecp&amp;ac=friend&amp;op=add&amp;uid=1&amp;handlekey=addfriendhk_1" id="a_friend_li_6506" onclick="showWindow(this.id, this.href, 'get', 1, {'ctrlid':this.id,'pos':'00'});" title="加好友" class="xi2">加好友</a></li>
<li class="poke2"><a href="home.php?mod=spacecp&amp;ac=poke&amp;op=send&amp;uid=1" id="a_poke_li_6506" onclick="showWindow(this.id, this.href, 'get', 0);" title="打招呼" class="xi2">打招呼</a></li>
<li class="pm2"><a href="home.php?mod=spacecp&amp;ac=pm&amp;op=showmsg&amp;handlekey=showmsg_1&amp;touid=1&amp;pmid=0&amp;daterange=2&amp;pid=6506&amp;tid=3462" onclick="showWindow('sendpm', this.href);" title="发消息" class="xi2">发消息</a></li>
</ul>
</td>
<td class="plc">
<div class="pi">
<div id="fj" class="y">
<label class="z">电梯直达</label>
<input type="text" class="px p_fre z" size="2" onkeyup="$('fj_btn').href='forum.php?mod=redirect&ptid=3462&authorid=0&postno='+this.value" onkeydown="if(event.keyCode==13) {window.location=$('fj_btn').href;return false;}" title="跳转到指定楼层" />
<a href="javascript:;" id="fj_btn" class="z" title="跳转到指定楼层"><img src="static/image/common/fj_btn.png" alt="跳转到指定楼层" class="vm" /></a>
</div>
<strong>
<a href="thread-3462-1-1.html" title="您的朋友访问此链接后，您将获得相应的积分奖励" id="postnum6506" onclick="setCopy(this.href, '帖子地址复制成功');return false;"><em>1</em><sup>#</sup></a>
</strong>
<div class="pti">
<div class="pdbt">
</div>
<div class="authi">
<img class="authicn vm" id="authicon6506" src="static/image/common/online_admin.gif" />
<em id="authorposton6506">发表于 2009-5-27 12:50:40</em>
<span class="pipe">|</span><a href="forum.php?mod=viewthread&amp;tid=3462&amp;page=1&amp;authorid=1" rel="nofollow">只看该作者</a>
<span class="pipe">|</span><a href="forum.php?mod=viewthread&amp;tid=3462&amp;extra=page%3D3&amp;ordertype=1">倒序浏览</a>
<div style="float:right;"><!-- Baidu Button BEGIN -->
    <div id="bdshare" class="bdshare_b" style="line-height: 12px;"><img src="http://share.baidu.com/static/images/type-button-1.jpg" /></div>
    <script type="text/javascript" id="bdshare_js" data="type=button&amp;uid=0" ></script>
    <script type="text/javascript" id="bdshell_js"></script>
    <script type="text/javascript">
        document.getElementById("bdshell_js").src = "http://share.baidu.com/static/js/shell_v2.js?t=" + new Date().getHours();
    </script>
<!-- Baidu Button END --></div></div>
</div>
</div><div class="pct"><style type="text/css">.pcb{margin-right:0}</style><div class="pcb">
<div class="t_fsz">
<table cellspacing="0" cellpadding="0"><tr><td class="t_f" id="postmessage_6506">
[常见错误现象1]<br />
关键词：&nbsp; &nbsp;&nbsp; &nbsp;client denied by server configuration。<br />
<br />
表象：&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp; 访问了http://localhost:80/mysite/ 后，假如发现图片没有加载，或者css没有应用上，并且httpd.conf文件中Location的配置绝对路径肯定没错。<br />
<br />
 <br />
<br />
解释：&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;<br />
<br />
第一，&nbsp; &nbsp;首先检查httpd.conf配置Alias的配置，<br />
<br />
看看Alias设置的路径是否正确，<br />
<br />
Alias /site_media c:/django/myproject/media<br />
<br />
请保证您附加的这个路径肯定是你的图片或者css存放的路径。<br />
<br />
其次，请检查您的django项目myproject目录下的settings.py，保证MEDIA_ROOT、STATIC_PATH、TEMPLATE_DIRS这三个参数指向的绝对路径正确无误。<br />
<br />
最后，如果上面的参数都没错，却还是不行。那么请您检查Apache的日志文件<br />
<br />
Apache2.2\logs\error.log<br />
<br />
如果您发现有这样的错误提示：<br />
<br />
错误日志<br />
 <br />
[Mon Nov 20 17:27:08 2006] [notice] Child 4172: Starting thread to listen on port 80.<br />
<br />
[Mon Nov 20 17:27:08 2006] [error] [client 127.0.0.1] client denied by server configuration: c:/Django/myproject/media/css/global.css, referer: http://localhost:80/mysite/<br />
 <br />
<br />
那么说明是因为对这些资源文件的访问被拒绝了。<br />
<br />
此时，请您浏览 http://localhost:80/site_media/css/global.css ，如果遇到了HTTP 403错误，就说明是权限问题。<br />
<br />
此时，请到httpd.conf，增加如下配置来允许静态资源文件夹被访问：<br />
<br />
增加的配置行<br />
 <br />
# 对需要访问的区域，可以增加正确的Directory块<br />
<br />
# 否则会得到这样的错误：client denied by server configuration: c:/Django/myproject/media/css/global.css, referer: http:/ /localhost:80/mysite/<br />
<br />
&lt;Directory &quot;c:/Django/myproject/media/&quot;&gt;<br />
<br />
Order Deny,Allow<br />
<br />
Allow from all<br />
<br />
&lt;/Directory&gt;<br />
 <br />
<br />
重启Apache服务。<br />
<br />
 <br />
<br />
[常见错误现象2]<br />
关键词：&nbsp; &nbsp;&nbsp; &nbsp;EnvironmentError: Could not import settings。<br />
<br />
表象：&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp; 访问了http://localhost:80/mysite/ 后，直接页面报告如下错误：<br />
<br />
页面错误输出<br />
 <br />
1.&nbsp; &nbsp;&nbsp;&nbsp;Mod_python error: “PythonHandler django.core.handlers.modpython”<br />
<br />
Traceback (most recent call last):<br />
<br />
File “C:\Python24\Lib\site-packages\mod_python\apache.py”, line 299, in HandlerDispatch<br />
result = object(req)<br />
<br />
File “c:\django_src\django\core\handlers\modpython.py”, line 163, in handler<br />
return ModPythonHandler()(req)<br />
<br />
File “c:\django_src\django\core\handlers\modpython.py”, line 125, in __call__<br />
if settings.ENABLE_PSYCO:<br />
<br />
File “c:\django_src\django\conf\__init__.py”, line 27, in __getattr__<br />
self._import_settings()<br />
<br />
File “c:\django_src\django\conf\__init__.py”, line 54, in _import_settings<br />
self._target = Settings(settings_module)<br />
<br />
File “c:\django_src\django\conf\__init__.py”, line 82, in __init__<br />
raise EnvironmentError, “Could not import settings ‘%s’ (Is it on sys.path? Does it have syntax errors?): %s” % (self.SETTINGS_MODULE, e)<br />
<br />
EnvironmentError: Could not import settings ‘myproject.settings’ (Is it on sys.path? Does it have syntax errors?): No module named myproject.settings<br />
<br />
<br />
 <br />
<br />
这是开始配置django+apache最容易遇到的问题,<img src="static/image/smiley/default/biggrin.gif" smilieid="3" border="0" alt="" />。<br />
<br />
 <br />
<br />
解释：<br />
<br />
这是因为apache在系统目录下找不到myproject/settings.py文件。<br />
<br />
首先检查PythonPath设置的路径是否正确：<br />
<br />
PythonPath &quot;sys.path+['c:/django']&quot;<br />
<br />
注意，这个'c:/django'路径实际是我们的项目路径c:/django/myproject的上一级目录！不要写错了。<br />
<br />
增加的配置行<br />
 <br />
#&nbsp;&nbsp;mysite目录路径: c:/django/myproject，<br />
<br />
# 但是对于PythonPath，必须设置成这个目录的上一级目录!<br />
<br />
# this site url:http://localhost:80/mysite/<br />
<br />
&lt;Location &quot;/mysite/&quot;&gt;<br />
<br />
&nbsp; &nbsp; SetHandler python-program<br />
<br />
&nbsp; &nbsp; PythonPath &quot;sys.path+['c:/django']&quot;<br />
<br />
&nbsp; &nbsp; PythonHandler django.core.handlers.modpython&nbsp; &nbsp;<br />
<br />
&nbsp; &nbsp; SetEnv DJANGO_SETTINGS_MODULE myproject.settings<br />
<br />
&nbsp; &nbsp; PythonInterpreter mysite<br />
<br />
&nbsp; &nbsp; PythonDebug On<br />
<br />
&lt;/Location&gt;<br />
 <br />
<br />
 <br />
<br />
配置Django到Apache的步骤：<br />
如何在Windows环境下安装Apache和mod_Python， 这篇Blog解释得很明白，我下面的这些步骤得到了验证。<br />
<br />
1：<br />
从 <a href="http://httpd.apache.org/" target="_blank">http://httpd.apache.org/</a><br />
来获取apache_2.2.3-win32-x86-no_ssl.msi这个安装文件；<br />
运行这个msi即可顺利安装Apache。<br />
2：<br />
<br />
网络上有很多说可以利用Apache和mod_python源代码来编译安装mod_python的，但是如果你仅仅想快速安装，那么请从<br />
<br />
<a href="http://www.apache.org/dist/httpd/modpython/win/3.2.10/" target="_blank">http://www.apache.org/dist/httpd/modpython/win/3.2.10/</a><br />
<br />
直接下载<br />
<br />
mod_python-3.2.10.win32-py2.4-apache2.2.exe<br />
<br />
文件，运行这个exe即可顺利把mod_python安装到Python2.4以及Apache2.2；<br />
<br />
由于GFW的封锁，可能您无法访问apache网站，那么可以从这里下载：<br />
<br />
<a href="http://www.cnblogs.com/Files/zhengyun_ustc/mod_python-3.2.10.win32-py2.4-apache2.2.rar" target="_blank">http://www.cnblogs.com/Files/zhe ... py2.4-apache2.2.rar</a><br />
<br />
3：<br />
<br />
我们用<br />
<br />
Python django-admin.py startproject myproject<br />
<br />
命令，在C盘的django目录下创建了一个Django项目myproject。我们把它引用的图片文件和css文件等静态资源都放在myproject文件夹下的media目录中。<br />
<br />
此时，将myproject目录下的settings.py文件中的这三个参数修改一下，主要是为了从相对路径变成绝对路径：<br />
<br />
修改的配置行<br />
 <br />
# Django settings for myproject project.<br />
<br />
'''<br />
<br />
将相对路径改为绝对路径。主要有：<br />
<br />
MEDIA_ROOT<br />
<br />
TEMPLATE_DIRS<br />
<br />
STATIC_PATH<br />
<br />
'''<br />
<br />
# Absolute path to the directory that holds media.<br />
<br />
# Example: &quot;/home/media/media.lawrence.com/&quot;<br />
<br />
MEDIA_ROOT = 'c:/django/myproject'<br />
<br />
STATIC_PATH = 'c:/django/myproject/media'<br />
<br />
TEMPLATE_DIRS = (<br />
<br />
&nbsp; &nbsp; # Put strings here, like &quot;/home/html/django_templates&quot;.<br />
<br />
&nbsp; &nbsp; # Always use forward slashes, even on Windows.<br />
<br />
&nbsp; &nbsp; 'c:/django/myproject/templates',<br />
<br />
)<br />
 <br />
<br />
切记切记，一定要保证这三个参数是绝对路径。<br />
<br />
4：<br />
<br />
配置Apache的httpd.conf配置文件：<br />
<br />
首先，在“Dynamic Shared Object (DSO) Support”的配置下增加一行<br />
<br />
LoadModule python_module modules/mod_python.so<br />
<br />
这个必须手动添加。<br />
<br />
5：<br />
<br />
我们列出此时Apache所需要的参数分别为：<br />
<br />
项目名：myporject<br />
<br />
试图访问的URL为：http://localhost:80/mysite/<br />
<br />
静态资源文件的存放目录：c:/django/myproject/media<br />
<br />
项目文件夹路径：c:/django/myproject<br />
<br />
好了，此时你就应该在httpd.conf文件的最后附加这段配置，以便让Apache知道到哪里去定位myproject/settings.py文件：<br />
<br />
增加的配置行<br />
 <br />
#&nbsp;&nbsp;mysite目录路径: c:/django/myproject，<br />
<br />
# 但是对于PythonPath，必须设置成这个目录的上一级目录!<br />
<br />
# this site url:http://localhost:80/mysite/<br />
<br />
&lt;Location &quot;/mysite/&quot;&gt;<br />
<br />
&nbsp; &nbsp; SetHandler python-program<br />
<br />
&nbsp; &nbsp; PythonPath &quot;sys.path+['c:/django']&quot;<br />
<br />
&nbsp; &nbsp; PythonHandler django.core.handlers.modpython&nbsp; &nbsp;<br />
<br />
&nbsp; &nbsp; SetEnv DJANGO_SETTINGS_MODULE myproject.settings<br />
<br />
&nbsp; &nbsp; PythonInterpreter mysite<br />
<br />
&nbsp; &nbsp; PythonDebug On<br />
<br />
&lt;/Location&gt;<br />
 <br />
<br />
对于上面的配置，Limodou注释道：“上面 PythonPath 主要是将 myproject的目录加入到 sys.path ，以便 Django 可以找到。需要使用绝对路径。<br />
<br />
SetEvn 中设置的 DJANGO_SETTINGS_MODULE 就对应于你的 项目名.配置文件。因此为了能导入 项目名.配置文件，就需要前面的 PythonPath 的设置。<br />
<br />
PythonDebug 和 PythonAutoReload 建议在生产时设为 Off 。”<br />
<br />
为了让图片、css、script能够被Apache成功加载，还需要在httpd.conf最后附加这段配置：<br />
<br />
增加的配置行<br />
 <br />
#Alias /site_media 是用来将 myproject的静态文件设置一个 URL 访问的别名。<br />
<br />
Alias /site_media c:/django/myproject/media<br />
<br />
&lt;Location &quot;/site_media/&quot;&gt;<br />
<br />
&nbsp; &nbsp;&nbsp; &nbsp; SetHandler None<br />
<br />
&lt;/Location&gt;<br />
<br />
 <br />
<br />
#Alias /media 是将 Django Admin 的静态文件设置一个 URL 的访问别名。<br />
<br />
Alias /media c:/Django-0.95/django/contrib/admin/media<br />
<br />
&lt;Location &quot;/media/&quot;&gt;<br />
<br />
&nbsp; &nbsp;&nbsp; &nbsp; SetHandler None<br />
<br />
&lt;/Location&gt;<br />
<br />
 <br />
<br />
# file types we want to serve statically<br />
<br />
# case insensative match<br />
<br />
&lt;LocationMatch &quot;(?i)\.(jpg|gif|png|txt|ico|pdf|css|jpeg)$&quot;&gt;<br />
<br />
&nbsp; &nbsp;&nbsp; &nbsp; SetHandler None<br />
<br />
&lt;/LocationMatch&gt;<br />
 <br />
<br />
 <br />
<br />
Limodou在Step by step中特地说“同时可以注意到 settings 我改为了 settings_apache 了。一方面将要把其中的内容有关相对路径的东西改为绝对路径，另一方面我还想保持现在的 settings.py 。”这也是一个很好的做法。<br />
<br />
最后，修改MaxRequestsPerChild为1，这是一个可选项。Limodou是这么说的“同时如果你不想每次重启Apache 来进行测试，可以将: MaxRequestsPerChild 0. 改为: MaxRequestsPerChild 1”<br />
<br />
 <br />
<br />
重启Apache服务。<br />
<br />
6：<br />
<br />
浏览 http://localhost:80/mysite/ 即可。</td></tr></table>
</div>
<div id="comment_6506" class="cm">
</div>
<div id="post_rate_div_6506"></div>
</div></div>

</td></tr>
<tr><td class="plc plm">
<div id="p_btn" class="mtw mbm cl">
<a href="home.php?mod=spacecp&amp;ac=share&amp;type=thread&amp;id=3462" id="k_share" onclick="showWindow(this.id, this.href, 'get', 0);" onmouseover="this.title = $('sharenumber').innerHTML + ' 人分享'"><i><img src="static/image/common/oshr.png" alt="分享" />分享<span id="sharenumber">0</span></i></a>
<a href="home.php?mod=spacecp&amp;ac=favorite&amp;type=thread&amp;id=3462" id="k_favorite" onclick="showWindow(this.id, this.href, 'get', 0);" onmouseover="this.title = $('favoritenumber').innerHTML + ' 人收藏'"><i><img src="static/image/common/fav.gif" alt="收藏" />收藏<span id="favoritenumber">0</span></i></a>
</div>
<div class="sign" style="max-height:100px;maxHeightIE:100px;">让中国Python发展的更快 ，更好.</div>
</td>
</tr>
<tr>
<td class="pls"></td>
<td class="plc">
<div class="po">
<div class="pob cl">
<em>
</em>

<p>
<a href="javascript:;" id="mgc_post_6506" onmouseover="showMenu(this.id)" class="showmenu">使用道具</a>
<a href="javascript:;" onclick="showWindow('miscreport6506', 'misc.php?mod=report&rtype=post&rid=6506&tid=3462&fid=38', 'get', -1);return false;">举报</a>
</p>

<ul id="mgc_post_6506_menu" class="p_pop mgcmn" style="display: none;">
<li><a href="home.php?mod=magic&amp;mid=bump&amp;idtype=tid&amp;id=3462" id="a_bump" onclick="showWindow(this.id, this.href)"><img src="static/image/magic/bump.small.gif" />提升卡</a></li>
<li><a href="home.php?mod=magic&amp;mid=stick&amp;idtype=tid&amp;id=3462" id="a_stick" onclick="showWindow(this.id, this.href)"><img src="static/image/magic/stick.small.gif" />置顶卡</a></li>
<li><a href="home.php?mod=magic&amp;mid=close&amp;idtype=tid&amp;id=3462" id="a_stick" onclick="showWindow(this.id, this.href)"><img src="static/image/magic/close.small.gif" />沉默卡</a></li>
<li><a href="home.php?mod=magic&amp;mid=open&amp;idtype=tid&amp;id=3462" id="a_stick" onclick="showWindow(this.id, this.href)"><img src="static/image/magic/open.small.gif" />喧嚣卡</a></li>
<li><a href="home.php?mod=magic&amp;mid=highlight&amp;idtype=tid&amp;id=3462" id="a_stick" onclick="showWindow(this.id, this.href)"><img src="static/image/magic/highlight.small.gif" />变色卡</a></li>
<li><a href="home.php?mod=magic&amp;mid=namepost&amp;idtype=pid&amp;id=6506:3462" id="a_namepost_6506" onclick="showWindow(this.id, this.href)"><img src="static/image/magic/namepost.small.gif" />显身卡</a><li>
</ul>
<script type="text/javascript" reload="1">checkmgcmn('post_6506')</script>
</div>
</div>

</td>
</tr>
<tr class="ad">
<td class="pls"></td>
<td class="plc">
</td>
</tr>
</table>
</div>
<div id="postlistreply" class="pl"><div id="post_new" class="viewthread_table" style="display: none"></div></div>
</div>


<form method="post" autocomplete="off" name="modactions" id="modactions">
<input type="hidden" name="formhash" value="e633520d" />
<input type="hidden" name="optgroup" />
<input type="hidden" name="operation" />
<input type="hidden" name="listextra" value="page%3D3" />
<input type="hidden" name="page" value="1" />
</form>


<div class="pgs mtm mbm cl">
<span class="pgb y"><a href="forum.php?mod=forumdisplay&fid=38&page=3">返回列表</a></span>
<a id="newspecialtmp" onmouseover="$('newspecial').id = 'newspecialtmp';this.id = 'newspecial';showMenu({'ctrlid':this.id})" onclick="showWindow('newthread', 'forum.php?mod=post&action=newthread&fid=38')" href="javascript:;" title ="发新帖"><img src="static/image/common/pn_post.png" alt="发新帖" /></a>
</div>

<!--[diy=diyfastposttop]--><div id="diyfastposttop" class="area"></div><!--[/diy]-->
<script type="text/javascript">
var postminchars = parseInt('10');
var postmaxchars = parseInt('10000');
var disablepostctrl = parseInt('0');
</script>

<div id="f_pst" class="pl bm bmw">
<form method="post" autocomplete="off" id="fastpostform" action="forum.php?mod=post&amp;action=reply&amp;fid=38&amp;tid=3462&amp;extra=page%3D3&amp;replysubmit=yes&amp;infloat=yes&amp;handlekey=fastpost" onSubmit="return fastpostvalidate(this)">
<table cellspacing="0" cellpadding="0">
<tr>
<td class="pls">
</td>
<td class="plc">

<span id="fastpostreturn"></span>


<div class="cl">
<div id="fastsmiliesdiv" class="y"><div id="fastsmiliesdiv_data"><div id="fastsmilies"></div></div></div><div class="hasfsl" id="fastposteditor">
<div class="tedt mtn">
<div class="bar">
<span class="y">
<a href="forum.php?mod=post&amp;action=reply&amp;fid=38&amp;tid=3462" onclick="return switchAdvanceMode(this.href)">高级模式</a>
</span><script src="static/js/seditor.js?PJD" type="text/javascript"></script>
<div class="fpd">
<a href="javascript:;" title="文字加粗" class="fbld">B</a>
<a href="javascript:;" title="设置文字颜色" class="fclr" id="fastpostforecolor">Color</a>
<a id="fastpostimg" href="javascript:;" title="图片" class="fmg">Image</a>
<a id="fastposturl" href="javascript:;" title="添加链接" class="flnk">Link</a>
<a id="fastpostquote" href="javascript:;" title="引用" class="fqt">Quote</a>
<a id="fastpostcode" href="javascript:;" title="代码" class="fcd">Code</a>
<a href="javascript:;" class="fsml" id="fastpostsml">Smilies</a>
</div></div>
<div class="area">
<div class="pt hm">您需要登录后才可以回帖 <a href="member.php?mod=logging&amp;action=login" onclick="showWindow('login', this.href)" class="xi2">登录</a> | <a href="member.php?mod=register.php" class="xi2">注册</a> </div>
</div>
</div>
</div>
</div>

<input type="hidden" name="formhash" value="e633520d" />
<input type="hidden" name="subject" value="" />
<p class="ptm pnpost">
<button type="button" onclick="showWindow('login', 'member.php?mod=logging&action=login&guestmessage=yes')" name="replysubmit" id="fastpostsubmit" class="pn pnc vm" value="replysubmit" tabindex="5"><strong>发表回复</strong></button>
<label for="fastpostrefresh"><input id="fastpostrefresh" type="checkbox" class="pc" />回帖后跳转到最后一页</label>
<script type="text/javascript">if(getcookie('fastpostrefresh') == 1) {$('fastpostrefresh').checked=true;}</script>
</p>
</td>
</tr>
</table>
</form>
</div>

<div id="md_2_menu" class="tip tip_4" style="display: none;">
<div class="tip_horn"></div>
<div class="tip_c">
<h4>管理奖</h4>
<p>管理奖</p>
</div>
</div>
<script type="text/javascript">document.onkeyup = function(e){keyPageScroll(e, 0, 0, 'forum.php?mod=viewthread&tid=3462', 1);}</script>
</div>

<div class="wp mtn">
<!--[diy=diy3]--><div id="diy3" class="area"></div><!--[/diy]-->
</div>

	</div>
<div id="ft" class="wp cl">
<div id="flk" class="y">
<p><a href="archiver/" >Archiver</a><span class="pipe">|</span><strong><a href="http://www.okpython.com/" target="_blank">python中国</a></strong>
( <a href="http://www.miitbeian.gov.cn/" target="_blank">京ICP备08012290号</a> )<script src="http://s9.cnzz.com/stat.php?id=2172852&web_id=2172852&show=pic" language="JavaScript"></script></p>
<p class="xs0">
GMT+8, 2013-5-25 15:43<span id="debuginfo">
, Processed in 0.046881 second(s), 11 queries
.
</span>
</p>
</div>
<div id="frt">
<p>Powered by <strong><a href="http://www.discuz.net" target="_blank">Discuz!</a></strong> <em>X2</em></p>
<p class="xs0">&copy; 2001-2011 <a href="http://www.comsenz.com" target="_blank">Comsenz Inc.</a></p>
</div></div>

<div id="g_upmine_menu" class="tip tip_3" style="display:none;">
<div class="tip_c">
积分 0, 距离下一级还需  积分
</div>
<div class="tip_horn"></div>
</div>
<script src="home.php?mod=misc&ac=sendmail&rand=1369467797" type="text/javascript"></script>
<span id="scrolltop" onclick="window.scrollTo('0','0')">回顶部</span>
<script type="text/javascript">_attachEvent(window, 'scroll', function(){showTopLink();});</script>
</body>
</html>
